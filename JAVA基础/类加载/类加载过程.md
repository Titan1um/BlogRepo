# 类加载过程

其中验证过程详解: [link](https://blog.csdn.net/qf2019/article/details/116016791)
> 验证： 主要作用就是确保被加载的类的正确性，也是连接阶段的第一步。即判断加载好的class文件不能对jvm有危害，它主要完成四个方面的验证
- 文件格式验证：验证.class文件字节流是否符合class文件的格式规范，并且能够被当前版本的虚拟机处理。这里面主要对魔数、主版本号、常量池等等的校验。
- 元数据验证：主要是对字节码描述的信息进行语义分析，以保证其描述的信息符合java语言规范的要求，比如说验证这个类是不是有父类，类中的字段方法是不是和父类冲突等等。
- 字节码验证：这是整个验证过程最复杂的阶段，主要是通过数据流和控制流分析，确定程序语义是合法的、符合逻辑的。在元数据验证阶段对数据类型做出验证后，这个阶段主要对类的方法做出分析，保证类的方法在运行时不会做出威海虚拟机安全的事。
- 符号引用验证：它是验证的最后一个阶段，发生在虚拟机将符号引用转化为直接引用的时候。主要是对类自身以外的信息进行校验。目的是确保解析动作能够完成。
对整个类加载机制而言，验证阶段是一个很重要但是非必需的阶段，如果我们的代码能够确保没有问题，那么我们就没有必要去验证，毕竟验证需要花费一定的的时间。当然我们可以使用-Xverfity:none来关闭大部分的验证。


> 参考\
 [侧重讲的检验等](https://blog.csdn.net/qf2019/article/details/116016791) \
 [侧重讲了加载](https://www.cnblogs.com/xdouby/p/5829423.html) \
 [参考](https://www.cnblogs.com/xdouby/p/5829423.html)